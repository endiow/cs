# 计组

## 第一章 计算机系统概述

![image-20240709094605915](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709094605915.png)



### 计算机系统层次结构

![image-20240709095126884](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709095126884.png)



### 冯诺 依曼体系结构

他提出程序存储思想，根据这一原理制造的计算机被称为冯·诺依曼结构计算机

程序存储:指令以代码的形式事先输入到计算机的主存储器中，然后按其在存储器中的首地址执行程序的第一条指令，以后就按该程序的规定顺序执行其他指令，直至程序执行结束。即按地址访问并顺序执行指令

五大特点：

1. 计算机硬件系统由五大部件组成(存储器、运算器、控制器、输出设备、输入设备)
2. 指令和数据以同等地位存于存储器，可按地址寻访
3. 指令和数据用二进制表示
4. 指令由操作码和地址码组成
5. 存储程序

早期的冯·诺依曼机以运算器为中心，且是单处理机，最根本的特征是采用“存储程序”原理，基本工作方式是控制流驱动方式！

![image-20240709095413059](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709095413059.png)





### 现代计算机的组织结构

![image-20240709095452782](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709095452782.png)



### 计算机的功能部件

![image-20240709095654003](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709095654003.png)



五大部分：

<1> 输入设备，是指将外部信息以计算机能读懂的方式输入进来，如键盘，鼠标等

<2> 输出设备，就是将计算机处理的信息以人所能接受的方式输出出来，比如显示屏，打印机。

<3> **存储器**，存储器分为 **主存储器**(内存储器，CPU能直接访问)和 **辅助存储器**(外存储器，协助主存储器记忆更多的信息，辅助存储器的信息需要导入到主存储器中，才可以被CPU访问)。

主存储器的工作方式是按存储单元的地址进行存取，这种存取方式称为**按地址存取方式**(相联存储器既可以既可以按照地址寻址，又可以按照内容寻址，为了与传统存储器区别，又称为内容寻址的存储器！)

主存储器是由**地址寄存器(MAR)**，**数据寄存器(MDR)**，存储体，时序控制逻辑，地址寄存器存放访存地址，经过地址译码后找到所选的存储单元。数据寄存器，是存储器与其他部件的中介，用于暂存要从存储器读或写的信息。时序控制逻辑用于产生存储器操作所需的各种时序信号。在现代CPU，MAR和MDR是在CPU中的。

![image-20240709095741603](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709095741603.png)

<4> **运算器**，是计算机的运算单元，用于算术运算和逻辑运算
运算器的核心单元是算术逻辑单元(ALU)

![image-20240709100029268](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709100029268.png)

<5> **控制器**，控制器是计算机的指挥中心，有其指挥各部件自动协调第进行工作，现代计算机将运算器和控制器集成到一个芯片上，合成为中央处理器，简称**CPU**。有程序计数器(PC)、指令寄存器(IR)和控制单元(CU)。

![image-20240709100108839](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709100108839.png)



### 计算机的执行过程

一般将运算器和控制器集成到同一个芯片上，称为**中央处理器(CPU)**。CPU和主存储器共同构成**主机**。CPU和主存之间通过一组总线相连，总线中有地址、控制和数据3组信号线。MAR中的地址信息会直接送到地址线上，用于指向读/写操作的主存存储单元；控制线中有读/写信号线，指出数据是从CPU写入主存还是从主存读出到CPU,根据是读操作还是写操作来控制将MDR中的数据是直接送到数据线上还是将数据线上的数据接收到MDR中。

![image-20240709100517430](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709100517430.png)

**IR存放当下欲执行的指令；PC存放下一条指令的地址；**

**MAR存放欲访问的存储单元地址；MDR存放从存储单元取来的数据！**

地址译码器是主存的构成部分，不属于CPU；地址寄存器虽然一般属于主存，但是现代计算机中绝大多数CPU内集成了地址寄存器！

关于CPU存取速度的比较：寄存器（CPU内部）> Cache(高速的SRAM) > 内存 （SDRAM）

![image-20240709101453921](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709101453921.png)





### 计算机的性能指标

![image-20240709101631337](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709101631337.png)





## 第二章 数据的表示与运算

![image-20240709102426886](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709102426886.png)



### 进制转换

![image-20240709102603144](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709102603144.png)



### BCD码（Binary-Code Decimal码）

用二进制表示0~9  若不在0~9中，则加6，得到两个bcd码组成

![image-20240709103432550](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709103432550.png)

![image-20240709103017637](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709103017637.png)



### 大小端

![image-20240709103723624](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709103723624.png)





### 校验码

#### 奇偶校验码

![image-20240709104139376](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709104139376.png)

#### 海明（汉明）校验码

![image-20240709104518128](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709104518128.png)

如果p错误，s异或结果为1，

![image-20240709105658358](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709105658358.png)

![image-20240709104704446](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709104704446.png)

![image-20240709105725786](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709105725786.png)



#### 循环冗余校验（CRC）码

![image-20240709105930576](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709105930576.png)

![image-20240709110259000](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709110259000.png)

![image-20240709110308381](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709110308381.png)

![image-20240709110318362](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709110318362.png)

![image-20240709110406979](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709110406979.png)





## 第三章 存储系统

![image-20240709111205032](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709111205032.png)

![image-20240709111708289](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709111708289.png)

![image-20240709111915480](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709111915480.png)

### 主存储器与CPU的连接

![image-20240709162605997](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709162605997.png)

### 高速缓冲存储器

![image-20240709162912988](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709162912988.png)

### Cache的基本工作原理

![image-20240709163024760](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709163024760.png)

![image-20240709163210369](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709163210369.png)



### Cache中主存块的替换算法

1. 随机算法(RAND):随机地确定替换的 Cache块。它的实现比较简单，但没有依据程序访问的局部性原理，故可能命中率较低
2. 先进先出算法(FIFO):选择最早调入的行进行替换。它比较容易实现，但也没有依据程序访问的局部性原理，可能会把一些需要经常使用的程序块（如循环程序）也作为最早进入 Cache的块替换掉。
3. 近期最少使用算法（LRU):依据程序访问的局部性原理选择近期内长久未访问过的存储行作为替换的行，平均命中率要比FFO要高，是堆栈类算法。
4. LRU算法对每行设置一个计数器， Cache每命中一次，命中行计数器清0,而其他各行计数器均加1,需要替换时比较各特定行的计数值，将计数值最大的行换出。
5. 最不经常使用算法(LFU):将一段时间内被访问次数最少的存储行换出。每行也设置一个计数器，新行建立后从0开始计数，每访问一次，被访问的行计数器加1,需要替换时比较各特定行的计数值，将计数值最小的行换出。



![image-20240709164533629](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709164533629.png)

写操作过程:        CPU直接写到缓存中，关键点在于保证缓存与主存的一致性。

命中：

- 全写法：

  写操作时数据既写入cache又写入主存

  写操作时间就是访问主存的时间，Cache块退出时，不需要对主存执行写操作，更新策略比较容易实现

-  写回法（Write-back）

  写操作时只把数据写入Cache而不写入主存，当Cache数据被替换出去时才写回主存

  写操作时间就是访问Cache的时间，Cache块退出时，被替换的块需写回主存增加了Cache的复杂性

不命中：

- 写分配法

把主存中的块调入Cache，在Cache中修改。搭配写回法使用。

- 非写分配法(not-write-alocate):

只写入主存，不调入Cache。搭配全写法使用

![image-20240709165218529](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165218529.png)

![image-20240709165239232](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165239232.png)

### 虚拟存储器

![image-20240709165335224](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165335224.png)

![image-20240709165441948](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165441948.png)

![image-20240709165448804](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165448804.png)

#### 段页式虚拟存储器

把程序按逻辑结构分段，每段再划分为固定大小的页，
主存空间也划分为大小相等的页，
程序对主存的调入、调出仍以页为基本传送单位。
每个程序对应一个段表，每段对应一个页表
**虚拟地址：段号+段内页号+页内地址**



### 快表（TLB）

页表、段表存放在主存中，收到虚拟地址后要先访问主存，査询页表、段表，进行虚实地址转换。
放在主存中的页表称为慢表(Page)
提高变换速度→用高速绥沖存储器存放常用的页表项 → 快表(TLB)

![image-20240709165708477](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709165708477.png)





## 第四章 指令系统

![image-20240709170448940](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709170448940.png)

寻址方式

![image-20240709170657272](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709170657272.png)

指令执行步骤

![image-20240709170756428](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709170756428.png)

![image-20240709170908172](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709170908172.png)





## 第五章 中央处理器

![image-20240709171130685](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709171130685.png)

CPU的功能:

- 指令控制：完成取指令、分析指令和执行指令的操作，即程序的顺序控制。
- 操作控制：一条指令的功能往往是由若干操作信号的组合来实现的。CPU管理并产生由内存取出的每条指令的操作信号，把各种操作信号送往相应的部件，从而控制这些部件按指令的要求进行动作。
- 时间控制：对各种操作加以时间上的控制。时间控制要为每条指令按时间顺序提供应有的控制信号。
- 数据加工：对数据进行算术和逻辑运算。
- 中断处理：对计算机运行过程中出现的异常情况和特殊请求进行处理。



### CPU的基本结构

#### 1.运算器

- 算术逻辑单元ALU
- 累加寄存器ACC
- 程序字状态寄存器PSW
- 计数器CT
- 暂存寄存器
- 通用寄存器组
- 移位器

![image-20240709171403491](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709171403491.png)



#### 2.控制器

- 程序计数器PC:存放下一条指令在主存中的地址，具有自增功能。
- 指令寄存器IR：存放当前正在执行的指令。
- 指令译码器
- 存储器地址寄存器MAR
- 存储器数据寄存器MDR
- 时序系统
- 微操作信号发生器

![image-20240709171512397](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709171512397.png)



![image-20240709172451489](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709172451489.png)

### 指令周期

![image-20240709180021778](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709180021778.png)

![image-20240709180029132](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709180029132.png)

![image-20240709172731513](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709172731513.png)

![image-20240709172746368](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709172746368.png)

![image-20240709172933429](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709172933429.png)





## 第六章 总线

![image-20240709180215803](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709180215803.png)

![image-20240709180446316](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709180446316.png)



## 第七章 输入/输出系统

![image-20240709180257397](C:\Users\IMikoto\Desktop\study\job\四大金刚\cs\images\image-20240709180257397.png)